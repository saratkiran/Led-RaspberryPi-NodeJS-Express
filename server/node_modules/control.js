var gpio = require('pi-gpio');

var servoControllerPin = 16;

exports.on = function(req, res){
        writeHigh(servoControllerPin);
        res.json(200, {message: 'success'});
}
exports.off = function(req, res){
        writeLow(servoControllerPin);
        res.json(200, {message: 'success'});
}
function writeHigh(pin){
	console.log(pin + " high");
	gpio.open(pin, "output", function(err) {
	    gpio.write(pin, 1, function() {
	        gpio.close(pin);
	    });
	});
}

function writeLow(pin){
	console.log(pin + " low");
		gpio.open(pin, "output", function(err) {
	    gpio.write(pin, 0, function() {
	        gpio.close(pin);
	    });
	});
}

function closePin(pin){
	console.log('Turning pin off since we are done.');
	console.log(pin + " -");
		gpio.open(pin, "output", function(err) {
	    gpio.write(pin, 0, function() { 
	        gpio.close(pin);
	    });
	});
}
